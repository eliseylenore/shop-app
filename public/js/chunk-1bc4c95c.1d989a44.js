(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1bc4c95c"],{"0591":function(e,t,s){"use strict";s("e699")},1076:function(e,t,s){"use strict";s("5833")},5833:function(e,t,s){},"6b2e":function(e,t,s){"use strict";s("7fd0")},"714b":function(e,t,s){"use strict";var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("b-modal",{ref:"modal-1",attrs:{id:e.id,title:e.title,"ok-only":e.okOnly},on:{ok:function(t){return e.$emit("modal-clicked")}},scopedSlots:e._u([{key:"modal-footer",fn:function(t){var r=t.ok;return[s("button",{staticClass:"btn btn-primary",on:{click:function(e){return r()}}},[e._v(" OK ")])]}}])},[e._t("default")],2)],1)},a=[],i={props:{id:{type:String},title:{type:String,default:"Item added to cart"},okOnly:{type:Boolean,default:!0}}},n=i,o=s("2877"),d=Object(o["a"])(n,r,a,!1,null,null,null);t["a"]=d.exports},7277:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[this.$store.getters.loggedIn?s("b-container",[s("header",[s("h1",[e._v("Your profile")]),s("p",{staticClass:"text-center"},[e._v("Welcome, "+e._s(e.user.name))])]),s("b-row",[s("b-col",{attrs:{sm:"3"}},[s("profile-nav")],1),s("b-col",{attrs:{sm:"9"}},["profile"===e.$route.params.page?s("div",[s("h3",{staticClass:"text-left"},[e._v(" Profile review ")]),s("user-info-table",{attrs:{user:e.user}})],1):e._e(),"openorders"===e.$route.params.page?s("open-orders"):e._e(),"previousorders"===e.$route.params.page?s("previous-orders"):e._e(),"addressbook"===e.$route.params.page?s("address-book"):e._e()],1)],1)],1):e._e()],1)},a=[],i=(s("b0c0"),s("5530")),n=s("2f62"),o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("b-table-simple",{attrs:{small:"","table-class":"w-100 mb-3","thead-class":"hidden_header","tbody-tr-class":"no-border-top","show-empty":"true"}},[s("b-thead",{staticClass:"hidden_header"},[s("b-tr",[s("b-th",[e._v("Property")]),s("b-th",[e._v("Value")])],1)],1),s("b-tbody",[s("b-tr",[s("b-td",[e._v("Name")]),s("b-td",[e._v(e._s(e.user.name))])],1),s("b-tr",[s("b-td",[e._v("Email")]),s("b-td",[e._v(e._s(e.user.email))])],1),s("b-tr",[s("b-td",[e._v("Password")]),s("b-td",[e._v("Last changed: "+e._s(e.formattedDate))])],1)],1)],1),s("router-link",{attrs:{to:{name:"EditProfile"}}},[e._v("Edit your information")])],1)},d=[],l=s("859f"),c={props:{user:{type:Object,required:!0}},computed:{formattedDate:function(){return Object(l["a"])(this.user.date)}}},u=c,p=(s("6b2e"),s("2877")),b=Object(p["a"])(u,o,d,!1,null,null,null),m=b.exports,f=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"open-orders"},[s("h3",{staticClass:"text-left mb-2"},[e._v(" Your open orders ")]),e.openOrders.length>0?s("div",{staticClass:"mb-4"},e._l(e.openOrders.slice().reverse(),(function(t){return s("div",{key:t._id},[s("accordion",{attrs:{panelId:t._id},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" "+e._s(e.getDate(t.orderDate))+" ")]},proxy:!0},{key:"panel",fn:function(){return[e._l(t.items,(function(r){return s("div",{key:r._id,staticClass:"mb-3"},[s("product-card",{attrs:{product:r,tabIndex:-1,align:"horizontal",width:75,height:"13em"}},[s("b-row",{staticClass:"m-3 w-100"},[s("b-col",[s("p",{staticClass:"mb-0 text-left"},[s("strong",[e._v(e._s(r.title))])]),s("p",{staticClass:"mb-0 text-left"},[e._v("Size "+e._s(r.size))]),s("p",{staticClass:"mb-0 text-left"},[e._v(e._s(r.color))]),s("p",{staticClass:"mb-0 text-left"},[e._v("$"+e._s(e.price(r.price)))]),s("p",{staticClass:"mb-4 text-left"},[e._v(" Quantity: "+e._s(r.quantity)+" ")]),s("button",{staticClass:"btn btn-danger",attrs:{tabIndex:-1},on:{click:function(s){return e.$store.dispatch("cancelOrder",Object.assign({},r,{orderId:t._id}))}}},[e._v(" Cancel ")])])],1)],1)],1)})),s("div",{staticClass:"mt-3"},[s("h4",[e._v("Billing")]),s("p",{staticClass:"mb-0 text-left"},[e._v(e._s(t.billingAddress.name))]),s("p",{staticClass:"mb-0 text-left"},[e._v(" "+e._s(t.billingAddress.addressline1)+" ")]),s("p",{staticClass:"mb-0 text-left"},[e._v(" "+e._s(t.billingAddress.addressline2)+" ")]),s("p",{staticClass:"text-left"},[e._v(" "+e._s(t.billingAddress.city)+", "+e._s(t.billingAddress.state)+" "+e._s(t.billingAddress.zipcode)+" ")]),s("h4",[e._v("Shipping")]),s("p",{staticClass:"mb-0 text-left"},[e._v(e._s(t.shippingAddress.name))]),s("p",{staticClass:"mb-0 text-left"},[e._v(" "+e._s(t.shippingAddress.addressline1)+" ")]),s("p",{staticClass:"mb-0 text-left"},[e._v(" "+e._s(t.shippingAddress.addressline2)+" ")]),s("p",{staticClass:"text-left"},[e._v(" "+e._s(t.shippingAddress.city)+", "+e._s(t.shippingAddress.state)+" "+e._s(t.shippingAddress.zipcode)+" ")]),s("p",{staticClass:"red-text"},[s("strong",[e._v("Testing feature")]),e._v(": click the Mark fulfilled button to move your order into the previous orders category. ")]),s("button",{staticClass:"btn btn-primary",attrs:{tabIndex:-1},on:{click:function(s){return e.$store.dispatch("markOrderFilled",t)}}},[e._v(" Mark fulfilled ")])])]},proxy:!0}],null,!0)})],1)})),0):s("div",[s("p",{staticClass:"text-left"},[e._v(" No open orders ")])])])},v=[],_=s("e915"),h=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"accordion"},[s("button",{staticClass:"btn w-100 panel-header",attrs:{id:"panel-"+e.panelId,"aria-expanded":"false"},on:{click:function(t){return e.headerClicked(e.panelId,t)}}},[e._t("header")],2),s("div",{staticClass:"panel",attrs:{role:"region","aria-labelledby":"panel-"+e.panelId}},[s("div",{staticClass:"p-4 grey-border"},[e._t("panel")],2)])])},y=[],g=(s("4160"),s("159b"),{props:{panelId:{type:String,required:!0}},methods:{headerClicked:function(e,t){var s="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex='0'], contenteditable";this.$emit("header-clicked",e);var r=document.getElementsByClassName("panel");r.forEach((function(e){if(t.currentTarget.nextElementSibling!==e){e.style.maxHeight=null;var r=e.querySelectorAll(s);r.forEach((function(e){e.setAttribute("tabindex",-1)}))}e.previousElementSibling.setAttribute("aria-expanded","false")}));var a=t.currentTarget.nextElementSibling,i=a.querySelectorAll(s);a.style.maxHeight?(a.style.maxHeight=null,t.currentTarget.setAttribute("aria-expanded","false"),i.forEach((function(e){e.setAttribute("tabindex",-1)}))):(a.style.maxHeight=a.scrollHeight+"px",t.currentTarget.setAttribute("aria-expanded","true"),i.forEach((function(e){e.removeAttribute("tabindex")})))}}}),x=g,C=(s("0591"),Object(p["a"])(x,h,y,!1,null,"a456833e",null)),k=C.exports,O={components:{ProductCard:_["a"],Accordion:k},data:function(){return{clickedOrder:""}},created:function(){this.$store.dispatch("fetchOpenOrders")},computed:Object(i["a"])({},Object(n["c"])({openOrders:function(e){return e.user.pendingOrders}})),methods:{getDate:function(e){return Object(l["a"])(e)},price:function(e){return Object(l["b"])(e,2)}}},A=O,$=Object(p["a"])(A,f,v,!1,null,"2f1052fb",null),w=$.exports,j=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"previous-orders"},[s("h3",{staticClass:"text-left mb-2"},[e._v(" Your previous orders ")]),e.previousOrders.length>0?s("div",{staticClass:"mb-4"},e._l(e.previousOrders.slice().reverse(),(function(t){return s("div",{key:t._id},[s("accordion",{attrs:{panelId:t._id},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" "+e._s(e.getDate(t.orderDate))+" ")]},proxy:!0},{key:"panel",fn:function(){return e._l(t.items,(function(t){return s("div",{key:t._id,staticClass:"mb-3"},[s("product-card",{attrs:{product:t,tabIndex:-1,align:"horizontal",width:25,height:"10em"}},[s("b-row",{staticClass:"mx-3 w-100"},[s("b-col",{attrs:{xs:"8"}},[s("p",{staticClass:"mb-0 text-left"},[s("strong",[e._v(e._s(t.title))]),e._v(", size "),s("span",{staticStyle:{"text-transform":"capitalize"}},[e._v(e._s(t.size))])]),s("p",{staticClass:"mb-0 text-left"},[e._v(e._s(t.color))]),s("p",{staticClass:"mb-0 text-left"},[e._v("$"+e._s(e.price(t.price)))]),s("p",{staticClass:"mb-0 text-left"},[e._v(" Quantity: "+e._s(t.quantity)+" ")]),s("router-link",{staticClass:"mb-4",attrs:{tabIndex:-1,to:{name:"ProductReview",params:{id:t.productId}}}},[e._v("Review product")])],1)],1)],1)],1)}))},proxy:!0}],null,!0)})],1)})),0):s("div",[s("p",{staticClass:"text-left"},[e._v(" No previous orders ")])])])},D=[],E={components:{ProductCard:_["a"],Accordion:k},data:function(){return{clickedOrder:""}},created:function(){},computed:Object(i["a"])({},Object(n["c"])({previousOrders:function(e){return e.user.fulfilledOrders}})),methods:{getDate:function(e){return Object(l["a"])(e)},price:function(e){return Object(l["b"])(e,2)}}},z=E,I=Object(p["a"])(z,j,D,!1,null,"a976028a",null),S=I.exports,T=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"mb-3",attrs:{role:"navigation"}},[s("b-nav",{attrs:{vertical:"",pills:"","aria-label":"Profile navigation"}},[s("b-nav-item",{class:["nav-item","profile"===e.$route.params.page?"active":"inactive"],attrs:{to:{name:"Dashboard",params:{page:"profile"}},active:"profile"===e.$route.params.page}},[e._v("Your information")]),s("b-nav-item",{class:["nav-item","openorders"===e.$route.params.page?"active":"inactive"],attrs:{to:{name:"Dashboard",params:{page:"openorders"}},active:"openorders"===e.$route.params.page}},[e._v("Open orders")]),s("b-nav-item",{class:["nav-item","previousorders"===e.$route.params.page?"active":"inactive"],attrs:{to:{name:"Dashboard",params:{page:"previousorders"}},active:"previousorders"===e.$route.params.page}},[e._v("Previous orders")]),s("b-nav-item",{class:["nav-item","addressbook"===e.$route.params.page?"active":"inactive"],attrs:{to:{name:"Dashboard",params:{page:"addressbook"}},active:"addressbook"===e.$route.params.page}},[e._v("Address book")])],1)],1)},P=[],q={},B=q,F=(s("1076"),Object(p["a"])(B,T,P,!1,null,"47627cd2",null)),M=F.exports,N=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"address-book"},[s("modal",{attrs:{id:"modal-1",title:"Are you sure you want to remove this address?"},on:{"modal-clicked":function(t){return e.$store.dispatch("deleteAddress",e.addressToDelete._id)}}},[s("p",{staticClass:"mb-0"},[e._v(" "+e._s(e.addressToDelete.addressline1)+" ")]),e.addressToDelete.addressline2?s("p",{staticClass:"mb-0"},[e._v(" "+e._s(e.addressToDelete.addressline2)+" ")]):e._e(),s("p",{staticClass:"mb-0"},[e._v(" "+e._s(e.addressToDelete.city)+", "+e._s(e.addressToDelete.state)+" "+e._s(e.addressToDelete.zipcode)+" ")])]),s("h3",{staticClass:"text-left mb-2"},[e._v(" Address book ")]),e._l(e.addressBook,(function(t){return s("div",{key:t._id},[s("accordion",{attrs:{panelId:t._id},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(e._s(t.addressline1))]},proxy:!0},{key:"panel",fn:function(){return[s("p",{staticClass:"mb-0"},[e._v(" "+e._s(t.addressline1)+" ")]),t.addressline2?s("p",{staticClass:"mb-0"},[e._v(" "+e._s(t.addressline2)+" ")]):e._e(),s("p",{staticClass:"mb-0"},[e._v(" "+e._s(t.city)+", "+e._s(t.state)+" "+e._s(t.zipcode)+" ")]),s("button",{staticClass:"btn btn-danger mt-2",on:{click:function(s){return e.showModal(t)}}},[e._v(" Delete ")])]},proxy:!0}],null,!0)})],1)})),e.showAddressForm?e._e():s("button",{staticClass:"btn btn-primary mt-2",on:{click:function(t){e.showAddressForm=!0}}},[e._v(" Add address ")]),e.showAddressForm?s("add-address-form",{staticClass:"mt-4",on:{"address-added":function(t){e.showAddressForm=!1}}}):e._e()],2)},H=[],Y=s("714b"),U=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("h3",{staticClass:"text-left"},[e._v("New address")]),s("b-form",{on:{submit:function(t){return t.preventDefault(),e.addAddress()}}},[s("b-form-group",[s("label",{attrs:{for:"address-line1"}},[e._v(" Address 1 ")]),s("b-form-input",{attrs:{type:"text",name:"address-line1",autocomplete:"address-line1",value:"",required:""},model:{value:e.addressline1,callback:function(t){e.addressline1=t},expression:"addressline1"}})],1),s("b-form-group",[s("label",{attrs:{for:"address-line2"}},[e._v(" Address 2 ")]),s("b-form-input",{attrs:{type:"text",name:"address-line2",autocomplete:"address-line2",value:""},model:{value:e.addressline2,callback:function(t){e.addressline2=t},expression:"addressline2"}})],1),s("b-form-group",[s("label",{attrs:{for:"city"}},[e._v(" City ")]),s("b-form-input",{attrs:{type:"text",name:"city",autocomplete:"address-level2",value:"",required:""},model:{value:e.city,callback:function(t){e.city=t},expression:"city"}})],1),s("b-form-group",[s("label",{attrs:{for:"state"}},[e._v(" State ")]),s("b-form-select",{staticClass:"form-control",attrs:{id:"state","aria-describedby":"state-error",autocomplete:"address-level1",options:e.states},model:{value:e.state,callback:function(t){e.state=t},expression:"state"}})],1),s("b-form-group",[s("label",{attrs:{for:"zipcode"}},[e._v(" ZIP code ")]),s("b-form-input",{attrs:{type:"number",name:"zipcode",autocomplete:"postal-code",value:"",required:""},model:{value:e.zipcode,callback:function(t){e.zipcode=t},expression:"zipcode"}})],1),s("b-form-group",[s("label",{attrs:{for:"country"}},[e._v(" Country ")]),s("b-form-select",{staticClass:"form-control",attrs:{id:"country","aria-describedby":"country-error",autocomplete:"country"},model:{value:e.country,callback:function(t){e.country=t},expression:"country"}},[s("option",[e._v("United States")])])],1),s("button",{staticClass:"btn btn-primary",attrs:{type:"submit",name:"button"}},[e._v(" Add ")]),e.addressError?s("div",e._l(e.addressError,(function(t){return s("p",{key:t,staticClass:"mt-3 red-text"},[e._v(" "+e._s(t)+" ")])})),0):e._e()],1)],1)},J=[],Q=(s("7db0"),{data:function(){return{addressline1:"",addressline2:"",city:"",state:"",zipcode:"",country:"",states:l["c"]}},computed:Object(i["a"])(Object(i["a"])({},Object(n["c"])(["addressError"])),Object(n["c"])({user:function(e){return e.user}})),methods:{addAddress:function(){var e=this,t=this.user.addressBook.find((function(t){return t.addressline1===e.addressline1&&t.addressline2===e.addressline2&&t.city===e.city}));void 0===t&&(this.$store.dispatch("addToAddressBook",{addressline1:this.addressline1,addressline2:this.addressline2,city:this.city,state:this.state,country:this.country,zipcode:this.zipcode}).then((function(){e.$emit("address-added")})).catch((function(e){return console.log(e)})),this.addressline1="",this.addressline2="",this.city="",this.state="",this.zipcode="",this.country="")}}}),R=Q,K=Object(p["a"])(R,U,J,!1,null,"048ed7b8",null),L=K.exports,V={components:{Accordion:k,Modal:Y["a"],AddAddressForm:L},data:function(){return{clickedPanel:"",addressToDelete:{},showAddressForm:!1}},computed:Object(i["a"])({},Object(n["c"])({addressBook:function(e){return e.user.addressBook}})),methods:{showModal:function(e){this.addressToDelete=e,this.$bvModal.show("modal-1")}}},W=V,Z=Object(p["a"])(W,N,H,!1,null,"9af8eb52",null),G=Z.exports,X={components:{UserInfoTable:m,OpenOrders:w,PreviousOrders:S,ProfileNav:M,AddressBook:G},created:function(){this.$store.state.user.name||this.$store.dispatch("fetchUserInfo")},computed:Object(i["a"])({},Object(n["c"])({user:function(e){return e.user}}))},ee=X,te=Object(p["a"])(ee,r,a,!1,null,"d9e915b0",null);t["default"]=te.exports},"7fd0":function(e,t,s){},e699:function(e,t,s){}}]);
//# sourceMappingURL=chunk-1bc4c95c.1d989a44.js.map